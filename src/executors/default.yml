description: >
  CircleCI's Ubuntu-based machine executor VM:
  https://circleci.com/docs/2.0/executor-types/#using-machine

parameters:
  image:
    type: string
    default: ubuntu-1604:201903-01

machine:
  image: <<parameters.image>>

environment:
  AWS_ACCESS_KEY_ID: << parameters.aws-access-key-id >>
  AWS_SECRET_ACCESS_KEY: << parameters.aws-secret-access-key >>
  AWS_ECR_ACCOUNT_URL: << parameters.account-url >>
  AWS_REGION: << parameters.region >>
